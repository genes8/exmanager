{"ast":null,"code":"var _jsxFileName = \"/app/frontend/src/components/ExpenseForm.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useDropzone } from 'react-dropzone';\nimport { toast } from 'react-toastify';\nimport DatePicker from 'react-datepicker';\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport { apiEndpoints } from '../utils/api';\nimport { t } from '../utils/i18n';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ExpenseForm = ({\n  user,\n  language\n}) => {\n  _s();\n  const navigate = useNavigate();\n  const [categories, setCategories] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [ocrProcessing, setOcrProcessing] = useState(false);\n  const [receiptFile, setReceiptFile] = useState(null);\n  const [ocrData, setOcrData] = useState(null);\n  const [formData, setFormData] = useState({\n    title: '',\n    description: '',\n    amount: '',\n    currency: 'EUR',\n    category: '',\n    date: new Date()\n  });\n  useEffect(() => {\n    loadCategories();\n  }, []);\n  const loadCategories = async () => {\n    try {\n      const response = await apiEndpoints.getCategories();\n      setCategories(response.data);\n      if (response.data.length > 0) {\n        setFormData(prev => ({\n          ...prev,\n          category: response.data[0].name\n        }));\n      }\n    } catch (error) {\n      console.error('Error loading categories:', error);\n      toast.error('Failed to load categories');\n    }\n  };\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n  const handleDateChange = date => {\n    setFormData(prev => ({\n      ...prev,\n      date\n    }));\n  };\n  const onDropAccepted = useCallback(async acceptedFiles => {\n    const file = acceptedFiles[0];\n    if (file) {\n      setReceiptFile(file);\n      await processReceiptOCR(file);\n    }\n  }, []);\n  const processReceiptOCR = async file => {\n    setOcrProcessing(true);\n    try {\n      var _categories$;\n      const formDataForOCR = new FormData();\n      formDataForOCR.append('title', 'OCR Processing');\n      formDataForOCR.append('amount', '0');\n      formDataForOCR.append('category', ((_categories$ = categories[0]) === null || _categories$ === void 0 ? void 0 : _categories$.name) || 'Other');\n      formDataForOCR.append('date', new Date().toISOString());\n      formDataForOCR.append('file', file);\n      const response = await apiEndpoints.createExpense(formDataForOCR);\n      if (response.data.ocr_data && !response.data.ocr_data.error) {\n        setOcrData(response.data.ocr_data);\n\n        // Auto-fill form with detected data\n        if (response.data.ocr_data.detected_amounts && response.data.ocr_data.detected_amounts.length > 0) {\n          const detectedAmount = parseFloat(response.data.ocr_data.detected_amounts[0].replace(/[^\\d.,]/g, '').replace(',', '.'));\n          if (!isNaN(detectedAmount)) {\n            setFormData(prev => ({\n              ...prev,\n              amount: detectedAmount.toString()\n            }));\n          }\n        }\n        if (response.data.ocr_data.detected_dates && response.data.ocr_data.detected_dates.length > 0) {\n          try {\n            const dateStr = response.data.ocr_data.detected_dates[0];\n            const detectedDate = new Date(dateStr.replace(/(\\d{1,2})[/.](\\d{1,2})[/.](\\d{2,4})/, '$3-$2-$1'));\n            if (!isNaN(detectedDate.getTime())) {\n              setFormData(prev => ({\n                ...prev,\n                date: detectedDate\n              }));\n            }\n          } catch (err) {\n            console.warn('Could not parse detected date');\n          }\n        }\n        toast.success('Receipt processed successfully! Check the detected data below.');\n      } else {\n        toast.warning('OCR processing completed but no data was detected');\n      }\n\n      // Delete the temporary expense created for OCR\n      // Note: In production, you might want a dedicated OCR endpoint\n    } catch (error) {\n      console.error('OCR processing error:', error);\n      toast.error('Failed to process receipt');\n    } finally {\n      setOcrProcessing(false);\n    }\n  };\n  const {\n    getRootProps,\n    getInputProps,\n    isDragActive\n  } = useDropzone({\n    onDropAccepted,\n    accept: {\n      'image/*': ['.jpeg', '.jpg', '.png'],\n      'application/pdf': ['.pdf']\n    },\n    maxFiles: 1,\n    maxSize: 10 * 1024 * 1024 // 10MB\n  });\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!formData.title || !formData.amount || !formData.category) {\n      toast.error('Please fill in all required fields');\n      return;\n    }\n    setLoading(true);\n    try {\n      const submitData = new FormData();\n      submitData.append('title', formData.title);\n      submitData.append('description', formData.description || '');\n      submitData.append('amount', parseFloat(formData.amount));\n      submitData.append('currency', formData.currency);\n      submitData.append('category', formData.category);\n      submitData.append('date', formData.date.toISOString());\n      if (receiptFile) {\n        submitData.append('file', receiptFile);\n      }\n      await apiEndpoints.createExpense(submitData);\n      toast.success(t('expense_created', language));\n      navigate('/expenses');\n    } catch (error) {\n      console.error('Error creating expense:', error);\n      toast.error('Failed to create expense');\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-4xl mx-auto\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-2xl font-bold text-gray-900\",\n        children: t('create_expense', language)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600\",\n        children: \"Add a new expense with optional receipt scanning\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 lg:grid-cols-2 gap-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow-sm border border-gray-200 p-6\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          className: \"space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"title\",\n              className: \"block text-sm font-medium text-gray-700 mb-2\",\n              children: [t('expense_title', language), \" *\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"title\",\n              name: \"title\",\n              required: true,\n              value: formData.title,\n              onChange: handleInputChange,\n              className: \"input-field\",\n              placeholder: \"Enter expense title\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"description\",\n              className: \"block text-sm font-medium text-gray-700 mb-2\",\n              children: t('description', language)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              id: \"description\",\n              name: \"description\",\n              rows: 3,\n              value: formData.description,\n              onChange: handleInputChange,\n              className: \"input-field\",\n              placeholder: \"Optional description\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-2 gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"amount\",\n                className: \"block text-sm font-medium text-gray-700 mb-2\",\n                children: [t('amount', language), \" *\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 215,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                id: \"amount\",\n                name: \"amount\",\n                step: \"0.01\",\n                min: \"0\",\n                required: true,\n                value: formData.amount,\n                onChange: handleInputChange,\n                className: \"input-field\",\n                placeholder: \"0.00\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 218,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"currency\",\n                className: \"block text-sm font-medium text-gray-700 mb-2\",\n                children: t('currency', language)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 233,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                id: \"currency\",\n                name: \"currency\",\n                value: formData.currency,\n                onChange: handleInputChange,\n                className: \"input-field\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"EUR\",\n                  children: \"EUR (\\u20AC)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 243,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"RSD\",\n                  children: \"RSD (din)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 244,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"USD\",\n                  children: \"USD ($)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 245,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 236,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"category\",\n              className: \"block text-sm font-medium text-gray-700 mb-2\",\n              children: [t('category', language), \" *\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              id: \"category\",\n              name: \"category\",\n              required: true,\n              value: formData.category,\n              onChange: handleInputChange,\n              className: \"input-field\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"Select category\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 262,\n                columnNumber: 17\n              }, this), categories.map(category => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: category.name,\n                children: category.name\n              }, category.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 264,\n                columnNumber: 19\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 254,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-2\",\n              children: [t('date', language), \" *\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(DatePicker, {\n              selected: formData.date,\n              onChange: handleDateChange,\n              dateFormat: \"dd/MM/yyyy\",\n              maxDate: new Date(),\n              className: \"input-field\",\n              placeholderText: \"Select date\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 275,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex space-x-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: () => navigate('/expenses'),\n              className: \"btn-secondary flex-1\",\n              children: t('cancel', language)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 286,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              disabled: loading,\n              className: \"btn-primary flex-1\",\n              children: loading ? t('loading', language) : t('save', language)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 293,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow-sm border border-gray-200 p-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-medium text-gray-900 mb-4\",\n          children: [t('upload_receipt', language), \" (OCR)\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          ...getRootProps(),\n          className: `border-2 border-dashed rounded-lg p-8 text-center cursor-pointer transition-colors ${isDragActive ? 'border-blue-400 bg-blue-50' : 'border-gray-300 hover:border-gray-400'}`,\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            ...getInputProps()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 319,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-center\",\n              children: ocrProcessing ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 323,\n                columnNumber: 19\n              }, this) : /*#__PURE__*/_jsxDEV(\"svg\", {\n                className: \"w-12 h-12 text-gray-400\",\n                fill: \"none\",\n                stroke: \"currentColor\",\n                viewBox: \"0 0 24 24\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  strokeLinecap: \"round\",\n                  strokeLinejoin: \"round\",\n                  strokeWidth: 2,\n                  d: \"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 326,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 325,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 321,\n              columnNumber: 15\n            }, this), ocrProcessing ? /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-blue-600 font-medium\",\n              children: t('processing_receipt', language)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 331,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-600\",\n                children: isDragActive ? 'Drop the file here' : 'Drag and drop receipt file here, or click to select'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 334,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-500\",\n                children: \"Supports: JPG, PNG, PDF (max 10MB)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 337,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 320,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 11\n        }, this), receiptFile && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-4 p-4 bg-gray-50 rounded-lg\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n              className: \"w-8 h-8 text-blue-500\",\n              fill: \"currentColor\",\n              viewBox: \"0 0 20 20\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                fillRule: \"evenodd\",\n                d: \"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z\",\n                clipRule: \"evenodd\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 350,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 349,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-1 min-w-0\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm font-medium text-gray-900 truncate\",\n                children: receiptFile.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 353,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-gray-500\",\n                children: [(receiptFile.size / 1024 / 1024).toFixed(2), \" MB\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 354,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 352,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: () => {\n                setReceiptFile(null);\n                setOcrData(null);\n              },\n              className: \"text-red-500 hover:text-red-700\",\n              children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                className: \"w-5 h-5\",\n                fill: \"none\",\n                stroke: \"currentColor\",\n                viewBox: \"0 0 24 24\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  strokeLinecap: \"round\",\n                  strokeLinejoin: \"round\",\n                  strokeWidth: 2,\n                  d: \"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 365,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 364,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 356,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 348,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 13\n        }, this), ocrData && !ocrData.error && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-6 space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"text-md font-medium text-gray-900\",\n            children: \"OCR Detection Results\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 375,\n            columnNumber: 15\n          }, this), ocrData.detected_amounts && ocrData.detected_amounts.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-4 bg-green-50 border border-green-200 rounded-lg\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"text-sm font-medium text-green-800 mb-2\",\n              children: t('ocr_detected_amount', language)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 379,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-wrap gap-2\",\n              children: ocrData.detected_amounts.map((amount, index) => /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"px-2 py-1 bg-green-100 text-green-800 rounded text-sm\",\n                children: amount\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 384,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 382,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 378,\n            columnNumber: 17\n          }, this), ocrData.detected_dates && ocrData.detected_dates.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-4 bg-blue-50 border border-blue-200 rounded-lg\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"text-sm font-medium text-blue-800 mb-2\",\n              children: t('ocr_detected_date', language)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 394,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-wrap gap-2\",\n              children: ocrData.detected_dates.map((date, index) => /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"px-2 py-1 bg-blue-100 text-blue-800 rounded text-sm\",\n                children: date\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 399,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 397,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 393,\n            columnNumber: 17\n          }, this), ocrData.confidence && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-4 bg-gray-50 border border-gray-200 rounded-lg\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"text-sm font-medium text-gray-800 mb-2\",\n              children: t('ocr_confidence', language)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 409,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-full bg-gray-200 rounded-full h-2\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-blue-600 h-2 rounded-full\",\n                style: {\n                  width: `${Math.min(ocrData.confidence * 100, 100)}%`\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 413,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 412,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-600 mt-1\",\n              children: [(ocrData.confidence * 100).toFixed(1), \"% confidence\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 418,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 408,\n            columnNumber: 17\n          }, this), ocrData.full_text && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-4 bg-gray-50 border border-gray-200 rounded-lg\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"text-sm font-medium text-gray-800 mb-2\",\n              children: \"Full OCR Text\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 426,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-gray-600 max-h-32 overflow-y-auto whitespace-pre-wrap\",\n              children: ocrData.full_text\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 427,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 425,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 374,\n          columnNumber: 13\n        }, this), ocrData && ocrData.error && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-4 p-4 bg-red-50 border border-red-200 rounded-lg\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-red-800\",\n            children: ocrData.error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 437,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 436,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 172,\n    columnNumber: 5\n  }, this);\n};\n_s(ExpenseForm, \"+zY8yJXySw5t47SrL60t7zMv9a0=\", false, function () {\n  return [useNavigate, useDropzone];\n});\n_c = ExpenseForm;\nexport default ExpenseForm;\nvar _c;\n$RefreshReg$(_c, \"ExpenseForm\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useNavigate","useDropzone","toast","DatePicker","apiEndpoints","t","jsxDEV","_jsxDEV","Fragment","_Fragment","ExpenseForm","user","language","_s","navigate","categories","setCategories","loading","setLoading","ocrProcessing","setOcrProcessing","receiptFile","setReceiptFile","ocrData","setOcrData","formData","setFormData","title","description","amount","currency","category","date","Date","loadCategories","response","getCategories","data","length","prev","name","error","console","handleInputChange","e","value","target","handleDateChange","onDropAccepted","acceptedFiles","file","processReceiptOCR","_categories$","formDataForOCR","FormData","append","toISOString","createExpense","ocr_data","detected_amounts","detectedAmount","parseFloat","replace","isNaN","toString","detected_dates","dateStr","detectedDate","getTime","err","warn","success","warning","getRootProps","getInputProps","isDragActive","accept","maxFiles","maxSize","handleSubmit","preventDefault","submitData","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","htmlFor","type","id","required","onChange","placeholder","rows","step","min","map","selected","dateFormat","maxDate","placeholderText","onClick","disabled","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","fillRule","clipRule","size","toFixed","index","confidence","style","width","Math","full_text","_c","$RefreshReg$"],"sources":["/app/frontend/src/components/ExpenseForm.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useDropzone } from 'react-dropzone';\nimport { toast } from 'react-toastify';\nimport DatePicker from 'react-datepicker';\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport { apiEndpoints } from '../utils/api';\nimport { t } from '../utils/i18n';\n\nconst ExpenseForm = ({ user, language }) => {\n  const navigate = useNavigate();\n  const [categories, setCategories] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [ocrProcessing, setOcrProcessing] = useState(false);\n  const [receiptFile, setReceiptFile] = useState(null);\n  const [ocrData, setOcrData] = useState(null);\n  const [formData, setFormData] = useState({\n    title: '',\n    description: '',\n    amount: '',\n    currency: 'EUR',\n    category: '',\n    date: new Date()\n  });\n\n  useEffect(() => {\n    loadCategories();\n  }, []);\n\n  const loadCategories = async () => {\n    try {\n      const response = await apiEndpoints.getCategories();\n      setCategories(response.data);\n      if (response.data.length > 0) {\n        setFormData(prev => ({\n          ...prev,\n          category: response.data[0].name\n        }));\n      }\n    } catch (error) {\n      console.error('Error loading categories:', error);\n      toast.error('Failed to load categories');\n    }\n  };\n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n\n  const handleDateChange = (date) => {\n    setFormData(prev => ({\n      ...prev,\n      date\n    }));\n  };\n\n  const onDropAccepted = useCallback(async (acceptedFiles) => {\n    const file = acceptedFiles[0];\n    if (file) {\n      setReceiptFile(file);\n      await processReceiptOCR(file);\n    }\n  }, []);\n\n  const processReceiptOCR = async (file) => {\n    setOcrProcessing(true);\n    try {\n      const formDataForOCR = new FormData();\n      formDataForOCR.append('title', 'OCR Processing');\n      formDataForOCR.append('amount', '0');\n      formDataForOCR.append('category', categories[0]?.name || 'Other');\n      formDataForOCR.append('date', new Date().toISOString());\n      formDataForOCR.append('file', file);\n\n      const response = await apiEndpoints.createExpense(formDataForOCR);\n      \n      if (response.data.ocr_data && !response.data.ocr_data.error) {\n        setOcrData(response.data.ocr_data);\n        \n        // Auto-fill form with detected data\n        if (response.data.ocr_data.detected_amounts && response.data.ocr_data.detected_amounts.length > 0) {\n          const detectedAmount = parseFloat(\n            response.data.ocr_data.detected_amounts[0].replace(/[^\\d.,]/g, '').replace(',', '.')\n          );\n          if (!isNaN(detectedAmount)) {\n            setFormData(prev => ({\n              ...prev,\n              amount: detectedAmount.toString()\n            }));\n          }\n        }\n\n        if (response.data.ocr_data.detected_dates && response.data.ocr_data.detected_dates.length > 0) {\n          try {\n            const dateStr = response.data.ocr_data.detected_dates[0];\n            const detectedDate = new Date(dateStr.replace(/(\\d{1,2})[/.](\\d{1,2})[/.](\\d{2,4})/, '$3-$2-$1'));\n            if (!isNaN(detectedDate.getTime())) {\n              setFormData(prev => ({\n                ...prev,\n                date: detectedDate\n              }));\n            }\n          } catch (err) {\n            console.warn('Could not parse detected date');\n          }\n        }\n\n        toast.success('Receipt processed successfully! Check the detected data below.');\n      } else {\n        toast.warning('OCR processing completed but no data was detected');\n      }\n\n      // Delete the temporary expense created for OCR\n      // Note: In production, you might want a dedicated OCR endpoint\n      \n    } catch (error) {\n      console.error('OCR processing error:', error);\n      toast.error('Failed to process receipt');\n    } finally {\n      setOcrProcessing(false);\n    }\n  };\n\n  const { getRootProps, getInputProps, isDragActive } = useDropzone({\n    onDropAccepted,\n    accept: {\n      'image/*': ['.jpeg', '.jpg', '.png'],\n      'application/pdf': ['.pdf']\n    },\n    maxFiles: 1,\n    maxSize: 10 * 1024 * 1024 // 10MB\n  });\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    \n    if (!formData.title || !formData.amount || !formData.category) {\n      toast.error('Please fill in all required fields');\n      return;\n    }\n\n    setLoading(true);\n    try {\n      const submitData = new FormData();\n      submitData.append('title', formData.title);\n      submitData.append('description', formData.description || '');\n      submitData.append('amount', parseFloat(formData.amount));\n      submitData.append('currency', formData.currency);\n      submitData.append('category', formData.category);\n      submitData.append('date', formData.date.toISOString());\n      \n      if (receiptFile) {\n        submitData.append('file', receiptFile);\n      }\n\n      await apiEndpoints.createExpense(submitData);\n      toast.success(t('expense_created', language));\n      navigate('/expenses');\n    } catch (error) {\n      console.error('Error creating expense:', error);\n      toast.error('Failed to create expense');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"max-w-4xl mx-auto\">\n      <div className=\"mb-6\">\n        <h1 className=\"text-2xl font-bold text-gray-900\">{t('create_expense', language)}</h1>\n        <p className=\"text-gray-600\">Add a new expense with optional receipt scanning</p>\n      </div>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\n        {/* Form Section */}\n        <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n          <form onSubmit={handleSubmit} className=\"space-y-6\">\n            <div>\n              <label htmlFor=\"title\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                {t('expense_title', language)} *\n              </label>\n              <input\n                type=\"text\"\n                id=\"title\"\n                name=\"title\"\n                required\n                value={formData.title}\n                onChange={handleInputChange}\n                className=\"input-field\"\n                placeholder=\"Enter expense title\"\n              />\n            </div>\n\n            <div>\n              <label htmlFor=\"description\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                {t('description', language)}\n              </label>\n              <textarea\n                id=\"description\"\n                name=\"description\"\n                rows={3}\n                value={formData.description}\n                onChange={handleInputChange}\n                className=\"input-field\"\n                placeholder=\"Optional description\"\n              />\n            </div>\n\n            <div className=\"grid grid-cols-2 gap-4\">\n              <div>\n                <label htmlFor=\"amount\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  {t('amount', language)} *\n                </label>\n                <input\n                  type=\"number\"\n                  id=\"amount\"\n                  name=\"amount\"\n                  step=\"0.01\"\n                  min=\"0\"\n                  required\n                  value={formData.amount}\n                  onChange={handleInputChange}\n                  className=\"input-field\"\n                  placeholder=\"0.00\"\n                />\n              </div>\n\n              <div>\n                <label htmlFor=\"currency\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  {t('currency', language)}\n                </label>\n                <select\n                  id=\"currency\"\n                  name=\"currency\"\n                  value={formData.currency}\n                  onChange={handleInputChange}\n                  className=\"input-field\"\n                >\n                  <option value=\"EUR\">EUR (â‚¬)</option>\n                  <option value=\"RSD\">RSD (din)</option>\n                  <option value=\"USD\">USD ($)</option>\n                </select>\n              </div>\n            </div>\n\n            <div>\n              <label htmlFor=\"category\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                {t('category', language)} *\n              </label>\n              <select\n                id=\"category\"\n                name=\"category\"\n                required\n                value={formData.category}\n                onChange={handleInputChange}\n                className=\"input-field\"\n              >\n                <option value=\"\">Select category</option>\n                {categories.map((category) => (\n                  <option key={category.id} value={category.name}>\n                    {category.name}\n                  </option>\n                ))}\n              </select>\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                {t('date', language)} *\n              </label>\n              <DatePicker\n                selected={formData.date}\n                onChange={handleDateChange}\n                dateFormat=\"dd/MM/yyyy\"\n                maxDate={new Date()}\n                className=\"input-field\"\n                placeholderText=\"Select date\"\n              />\n            </div>\n\n            <div className=\"flex space-x-4\">\n              <button\n                type=\"button\"\n                onClick={() => navigate('/expenses')}\n                className=\"btn-secondary flex-1\"\n              >\n                {t('cancel', language)}\n              </button>\n              <button\n                type=\"submit\"\n                disabled={loading}\n                className=\"btn-primary flex-1\"\n              >\n                {loading ? t('loading', language) : t('save', language)}\n              </button>\n            </div>\n          </form>\n        </div>\n\n        {/* Receipt Upload & OCR Section */}\n        <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n          <h3 className=\"text-lg font-medium text-gray-900 mb-4\">\n            {t('upload_receipt', language)} (OCR)\n          </h3>\n\n          {/* File Upload Area */}\n          <div\n            {...getRootProps()}\n            className={`border-2 border-dashed rounded-lg p-8 text-center cursor-pointer transition-colors ${\n              isDragActive \n                ? 'border-blue-400 bg-blue-50' \n                : 'border-gray-300 hover:border-gray-400'\n            }`}\n          >\n            <input {...getInputProps()} />\n            <div className=\"space-y-4\">\n              <div className=\"flex justify-center\">\n                {ocrProcessing ? (\n                  <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500\"></div>\n                ) : (\n                  <svg className=\"w-12 h-12 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12\" />\n                  </svg>\n                )}\n              </div>\n              {ocrProcessing ? (\n                <p className=\"text-blue-600 font-medium\">{t('processing_receipt', language)}</p>\n              ) : (\n                <>\n                  <p className=\"text-gray-600\">\n                    {isDragActive ? 'Drop the file here' : 'Drag and drop receipt file here, or click to select'}\n                  </p>\n                  <p className=\"text-sm text-gray-500\">\n                    Supports: JPG, PNG, PDF (max 10MB)\n                  </p>\n                </>\n              )}\n            </div>\n          </div>\n\n          {/* Uploaded File Info */}\n          {receiptFile && (\n            <div className=\"mt-4 p-4 bg-gray-50 rounded-lg\">\n              <div className=\"flex items-center space-x-3\">\n                <svg className=\"w-8 h-8 text-blue-500\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                  <path fillRule=\"evenodd\" d=\"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z\" clipRule=\"evenodd\" />\n                </svg>\n                <div className=\"flex-1 min-w-0\">\n                  <p className=\"text-sm font-medium text-gray-900 truncate\">{receiptFile.name}</p>\n                  <p className=\"text-xs text-gray-500\">{(receiptFile.size / 1024 / 1024).toFixed(2)} MB</p>\n                </div>\n                <button\n                  type=\"button\"\n                  onClick={() => {\n                    setReceiptFile(null);\n                    setOcrData(null);\n                  }}\n                  className=\"text-red-500 hover:text-red-700\"\n                >\n                  <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n                  </svg>\n                </button>\n              </div>\n            </div>\n          )}\n\n          {/* OCR Results */}\n          {ocrData && !ocrData.error && (\n            <div className=\"mt-6 space-y-4\">\n              <h4 className=\"text-md font-medium text-gray-900\">OCR Detection Results</h4>\n              \n              {ocrData.detected_amounts && ocrData.detected_amounts.length > 0 && (\n                <div className=\"p-4 bg-green-50 border border-green-200 rounded-lg\">\n                  <h5 className=\"text-sm font-medium text-green-800 mb-2\">\n                    {t('ocr_detected_amount', language)}\n                  </h5>\n                  <div className=\"flex flex-wrap gap-2\">\n                    {ocrData.detected_amounts.map((amount, index) => (\n                      <span key={index} className=\"px-2 py-1 bg-green-100 text-green-800 rounded text-sm\">\n                        {amount}\n                      </span>\n                    ))}\n                  </div>\n                </div>\n              )}\n\n              {ocrData.detected_dates && ocrData.detected_dates.length > 0 && (\n                <div className=\"p-4 bg-blue-50 border border-blue-200 rounded-lg\">\n                  <h5 className=\"text-sm font-medium text-blue-800 mb-2\">\n                    {t('ocr_detected_date', language)}\n                  </h5>\n                  <div className=\"flex flex-wrap gap-2\">\n                    {ocrData.detected_dates.map((date, index) => (\n                      <span key={index} className=\"px-2 py-1 bg-blue-100 text-blue-800 rounded text-sm\">\n                        {date}\n                      </span>\n                    ))}\n                  </div>\n                </div>\n              )}\n\n              {ocrData.confidence && (\n                <div className=\"p-4 bg-gray-50 border border-gray-200 rounded-lg\">\n                  <h5 className=\"text-sm font-medium text-gray-800 mb-2\">\n                    {t('ocr_confidence', language)}\n                  </h5>\n                  <div className=\"w-full bg-gray-200 rounded-full h-2\">\n                    <div \n                      className=\"bg-blue-600 h-2 rounded-full\" \n                      style={{ width: `${Math.min(ocrData.confidence * 100, 100)}%` }}\n                    ></div>\n                  </div>\n                  <p className=\"text-sm text-gray-600 mt-1\">\n                    {(ocrData.confidence * 100).toFixed(1)}% confidence\n                  </p>\n                </div>\n              )}\n\n              {ocrData.full_text && (\n                <div className=\"p-4 bg-gray-50 border border-gray-200 rounded-lg\">\n                  <h5 className=\"text-sm font-medium text-gray-800 mb-2\">Full OCR Text</h5>\n                  <p className=\"text-xs text-gray-600 max-h-32 overflow-y-auto whitespace-pre-wrap\">\n                    {ocrData.full_text}\n                  </p>\n                </div>\n              )}\n            </div>\n          )}\n\n          {ocrData && ocrData.error && (\n            <div className=\"mt-4 p-4 bg-red-50 border border-red-200 rounded-lg\">\n              <p className=\"text-sm text-red-800\">{ocrData.error}</p>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ExpenseForm;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}